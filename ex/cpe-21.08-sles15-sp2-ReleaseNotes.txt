HPE Cray Programming Environment 21.08 Release Notes
====================================================

HPE Cray Compiling Environment (CCE) 12.0.2
==============================================

Release Date:
-------------
August 2021

Purpose:
--------
CCE 12.0.2 provides Fortran, C, and C++ compilers for Cray XC and CS systems, 
HPE Cray supercomputer systems, HPE Apollo 2000 Gen10Plus systems, and HPE Apollo 80 systems. 

Key Changes:
------------
CCE 12.0.2:
  - Bugfixes only

CCE 12.0.1:
  - Bugfixes only

CCE 12.0.0:
  - The C and C++ compilers are based on Clang/LLVM 12.0
  - For C and C++, a new -floopmark-style option has been added to control the style of the loopmark 
    listing file produced when the -fsave-loopmark option is used. Allowed values are “grouped” 
    (all messages placed at the end of the listing) and “interspersed” (each message placed after 
    the relevant source code line). The default is “grouped”.
  - For C and C++, support for "#pragma ivdep" has been added.
  - For Fortran, directive-based and automatic cache blocking is now controlled by -hcblock{n}, 
    where {n} is 0, 1, 2, or 3.  The default is -hcblock0.
  - For Fortran, the cache optimization level is now -hcache0,cblock0 unless directly specified.  
    For cache optimizations similar to what CCE 11.0 used by default, please add -hcache2,cblock2 
    to your CCE 12.0 command line.
  - Support for the following OpenMP 5.0 features has been added for Fortran, C, and C++, unless noted otherwise
    - Task affinity clause
    - Conditional lastprivate (C/C++ only)
    - Inclusive and exclusive scan operations (C/C++ only)
    - if clause on simd construct (C/C++ only)
    - Iterator support in depend clause (C/C++ only)
    - Depend objects (C/C++ only)
    - Lvalue expressions in depend clause
    - mutexinoutset dependence type (C/C++ only)
    - Task reductions (C/C++ only)
  - Support for the following OpenACC 2.6 features has been added for Fortran
    - Attach/detach behavior and clauses
    - default(present) clause
    - Implied present-or behavior for copy, copyin, copyout, and create data clauses

Issues or Bugs Resolved:
------------------------

CCE 12.0.2:
-----------
CAST-26722  CCE Internal error Invalid bitcast
CAST-26659  CCE Fortran ICE on BLOCK construct with PARAMETER array variable inside OpenMP Parallel region
CAST-26251  Internal CCE error when building COSMO POMPA
CAST-25894  Code only works with lowest optimization level (-O0)
CAST-25773  "CRAY_ACC_ERROR - Link not registered" when mapping pointer component of "omp declare target" variable

CCE 12.0.1:
-----------
CAST-26308  Fortran compiler internal error
CAST-25674  CCE Fortran 10.0.3 incorrectly interprets boz-literal-constants in DSHIFTL and DSHIFTR

CCE 12.0.0:
-----------
CAST-26051  Runaway Fortran preprocessing with -eZ
CAST-25850  FTN OPTCG goes into infinite loop trying to compile a file
CAST-25604  Derived type pointer component has invalid value after being unmapped and remapped
CAST-25318  libcraymath executable segment varies from run to run
CAST-25270  User's fortran code fails to compile with "-O2"
CAST-24759  CCE 11.0.1 compiled openmp_mem_usage_hip maps incorrect result back from GPU for 0.26GB or larger inputs
CAST-24702  CCE Fortran does not allow -hnofp_trap to override -hfp_trap that comes with -hfp0
CAST-24551  CCE libcraymath.so has unwritable segment with mutable contents
CAST-24540  CCE 11.0.1 compiled openmp_mem_usage_hip unexpected hangs for 0.25GB input size
CAST-24226  error parsing namelist
CAST-22787  crayftn/OPTCG gets into an infinite loop and never finishes compiling attached code when using -O2 or higher
CAST-22751  Cray Fortran does not recognize ENCODING=UTF-8
CAST-22749  Cray Fortran error message lib-5002 is misleading
CAST-22678  Cray Fortran compiler does not flag multiple use of symbols with bind(c)
CAST-22553  Cray Fortran ICE compiling code that uses iall intrinsic
CAST-15415  CCE: ftn-605 on code that compiles ok with intel, gnu

Product and OS Dependencies:
----------------------------
  This CCE release is supported on
    - Cray XC systems running CLE 7.0 (or later) 
    - Cray CS systems with RedHat/CentOS 8
    - HPE Cray supercomputer systems running Shasta V1.3 (or later) or SLES15 SP2
    - HPE Apollo 2000 Gen10Plus systems running RedHat/CentOS 8
    - HPE Apollo 80 systems running RedHat/CentOS 8

  AMD GPU offloading support requires at least ROCm 4.0 and has been validated up to ROCm 4.1.1 

Notes and Limitations:
----------------------
  None

Documentation:
--------------
  - S-5212 Cray Compiling Environment Release Overview (12.0)
  - S-3901 Cray Fortran Reference Manual
  - S-2179 Cray C and C++ Quick Reference
  - Basic man pages: crayftn(1), craycc(1), crayCC(1), intro_openmp()
  - Please see https://clang.llvm.org/docs/UsersManual.html or use the -help command line option for 
    more information on using Clang

Modulefile:
-----------
The following will load the modules necessary to use CCE:
  module load PrgEnv-cray

The following will switch to x.y.z version of CCE:
  module swap cce cce/x.y.z 

Installation instructions:
--------------------------
  rpm -ivh cce-12.0.2-202107201612.921334d712f2b-0.x86_64.rpm

  The following script will set CCE version 12.0.2 default:
  /opt/cray/pe/admin-pe/set_default_files/set_default_cce_12.0.2

License:
--------
  Except for the third party components and software licensed by HPE through
  proprietary agreements, components, files or programs contained within this
  package or product are Copyright -2021 Hewlett Packard Enterprise Development LP. 

  Attribution notices for open source licensed software for this
  package are detailed in the file:

  /opt/cray/pe/cce/12.0.2/ATTRIBUTIONS_12.0.txt





CrayPE 2.7.9
==============

Release Date:
--------------
  August 2021 

Purpose:
--------
  - Bug Fix release 


Bugs Fixed in This Release:
-------------------------------------------
  - CAST-26510 - Cray compiler wrapper loses '-shared' when building 
                 shared library 
  - CAST-26150 - binutils and craype-hugepages32M Conflict

Dependencies:
---------------------------------------------

   The CrayPE 2.7.9 release is dependent on .pc files in the following
   software products:
     ATP 1.6.3 or later
     FFTW 3.3.0.4 or later
     FFTW 2.1.5.6 or later
     Global Arrays 5.1.0.2 or later
     HDF5 1.8.11 or later
     iobuf 2.0.5 or later
     LibSci 12.1.01 or later
     MPT 6.0.2 or later
     NetCDF 4.3.0 or later
     Parallel-NetCDF 1.3.1.1 or later
     PMI 4.0.1 or later
     PETSc 3.4.2.0 or later
     Trilinos 11.4.1.0 or later
     TPSL 1.3.04 or later
     TotalView 8.12-totalview-support-1.1.5 or later
                                                                                
Documentation:
---------------
  See manpages for cc, CC, ftn, intro_craype-api, intro_hugepages and pkg-config
                                                                                
  See section 2.6 Using Targeting Modules of the Cray Programming Environment
  User's Guide (S-2529-116)
                                                                                
  See http://www.freedesktop.org/wiki/Software/pkg-config for a pkg-config
  introduction.
                                                                                
Installation instructions:
--------------------------
      rpm -ivh  craype-2.7.9-202107151908.515546c62b523-7.sles15sp2.x86_64.rpm 

                                                                                
 To make this the default version, execute:
    /opt/cray/pe/admin-pe/set_default_files/set_default_craype_2.7.9
    
                                                                                
Product description:
--------------------
CrayPE contains drivers, cc, CC, and ftn to compile for the CCE, PGI, GNU,
and Intel Programming Environments.
The craype-* targeting modules are also provided in this product.

Certain components, files or programs contained within this package or product
are Copyright 2013-2021 Hewlett Packard Enterprise Development LP.


CrayPE Targets 1.5.0
================================================================================

Release Date:
--------------------------------------------------------------------------------
  August, 2021

Purpose:
--------------------------------------------------------------------------------
  Adds craype-accel-amd-gfx90a module.

Bugs fixed in this release:
--------------------------------------------------------------------------------
  None

Dependencies:
--------------------------------------------------------------------------------

  The CrayPE Targets 1.5.0 release is dependent on the following
  software products:
     CrayPE
     set_default_3
     lmod_scripts

Documentation:
--------------------------------------------------------------------------------
  See manpages for cc, CC, ftn, intro_craype-api and pkg-config

  See section 2.6 Using Targeting Modules of the Cray Programming Environment
  User's Guide (S-2529-116)

  See http://www.freedesktop.org/wiki/Software/pkg-config for a pkg-config
  introduction.

Installation instructions:
--------------------------------------------------------------------------------
    rpm -Uvh craype-targets-ex-hpcm-1.5.0-202107210536.5cf6aa8e65233-0.ex.hpcm.noarch.rpm


    To make this the default version, execute:
        /opt/cray/pe/admin-pe/set_default_files/set_default_craype-targets_1.5.0-tcl
        /opt/cray/pe/admin-pe/set_default_files/set_default_craype-targets_1.5.0-lua


Product description:
--------------------------------------------------------------------------------
    CrayPE Targets contains the modules for CrayPE targets.

        TCL Modules - craype-accel-host craype-accel-amd-gfx90a craype-accel-amd-gfx908 craype-accel-nvidia70 craype-accel-nvidia80 craype-hugepages2M craype-hugepages4M craype-hugepages8M craype-hugepages16M craype-hugepages32M craype-hugepages64M craype-hugepages128M craype-hugepages256M craype-hugepages512M craype-hugepages1G craype-hugepages2G craype-network-none craype-x86-milan craype-x86-rome craype-network-ofi craype-network-ucx

        Lmod Modules - craype-accel-host craype-accel-amd-gfx90a craype-accel-amd-gfx908 craype-accel-nvidia70 craype-accel-nvidia80 craype-hugepages2M craype-hugepages4M craype-hugepages8M craype-hugepages16M craype-hugepages32M craype-hugepages64M craype-hugepages128M craype-hugepages256M craype-hugepages512M craype-hugepages1G craype-hugepages2G craype-network-none craype-x86-milan craype-x86-rome craype-network-ofi craype-network-ucx

Copyright 2013-2021 Hewlett Packard Enterprise Development LP

Craypkg-gen 1.3.17
==============

Release Date:
-------------
    August  2021

Purpose:
--------
   - Fix error in Intel Lmod module template 
 
Dependencies:
-------------
    The craypkg-gen 1.3.17 release is supported on the following Cray
    systems running Cray Linux Environment (CLE) operating system:
    o   Cray XC/XE/XK systems with CLE version 5.2 or later.
 
    Driver support for integrating Third Party C, C++, and Fortran libraries
    through .pc files using pkg-config is used in CrayPE 2.x and later


Limitation:
-----------
    o  Library dependencies for static libraries are not added to the .pc files
       for keywords Requires.private and Libs.private. A warning is issued by 
       the craypkg-gen tool to advise users to add this information to the 
       libraries .pc files.
    o  RPM limits packages to 4GB
 
Documentation:
--------------
    Man pages for craypkg-gen are found by executing ‘module load craypkg-gen’ 
    and then ‘man craypkg-gen’ See 
    http://www.freedesktop.org/wiki/Software/pkg-config for a pkg-config 
    introduction.
 
    Examples for creating modulefiles for Intel, PGI and Python are included in
    the craypkg-gen ‘doc’ directory:
        /opt/cray/craypkg-gen/1.3.17/doc/intel_example.txt
        /opt/cray/craypkg-gen/1.3.17/doc/pgi_example.txt
        /opt/cray/craypkg-gen/1.3.17/doc/python_example.txt
 
Example:
      As an example, the Intel 16.0.3.210 compiler was recently released.  
      After installing the compiler the administrator creates a modulefile for
      this release by executing the following commands:                   
 
               # module load craypkg-gen
               # craypkg-gen -m /opt/intel/compilers_and_libraries_2016.3.210
 
        This version of the Intel compiler is made default by executing the 
        command:
               # /opt/admin-pe/set_default_craypkg/set_default_intel_16.0.3.210
 
Installation instructions:
--------------------------

 rpm -ivh craypkg-gen-1.3.17-*-0.sles15sp2.202107210326.b8345e663fb01.x86_64.rpm

 To change the product version to default after installation:
 /opt/cray/pe/admin-pe/set_default_files/set_default_craypkg-gen_1.3.17

Product description:
    The craypkg-gen 1.3.17 utility provides the system administrator
    a tool to integrate third party software with the Cray software stack. 
    Craypkg-gen assists with integration by creating .pc files for C, C++, and
    Fortran libraries, pkg-config enabled modulefiles and RPMs. 

    The workflow for using craypkg-gen is
        1) Build the open source software
        2) Create .pc files for libraries
        3) Create pkg-config enabled modulefiles
        4) Customize pkg-config and modulefiles if needed
        5) Package rpms
        6) Install the rpms on the Cray system
 
Certain components, files or programs contained within this package or product 
are Copyright 2013-2021 Hewlett Packard Enterprise Development LP. 

Cray Common Tools Interface (CTI) 2.15.4:
======================================

Release Date:
--------------
  July 2021


Product Description:
--------------------
  Cray Common Tools Interface (CTI) is a library that abstracts debugger
  tool support to a common interface regardless of the underlying
  work load manager. It facilitates the staging of files and
  the launch of tool daemons on the compute nodes associated
  with a parallel job.

Purpose:
---------
  This bugfix release resolves the following issues:
    - Update Shasta PALS workload manager detection and support
    - Add launch function variants `cti_launchApp_fd` and
      `cti_launchAppBarrier_fd` taking input file descriptors instead
      of input files

Product and OS Dependencies:
-----------------------------
  The Cray CTI 2.15.4 release is supported on the following Cray systems:
    - HPE/Cray XC systems with CLE 7.0 or later
    - HPE/Cray CS systems with CentOS/RH 8.0 or later
    - HPE/Cray Shasta systems with SLES 15 service pack 1 or later
    - HPE Apollo systems with Slurm and RH 8.0 or later
    - Baymax systems with RH 8.0 or later

  Product Dependencies:
    - GCC 8.1.0 associated runtime libraries are required on all systems.
    - Cray cray-cdst-support rpm installed

Documentation:
---------------
Currently the only documentation available is found in
common_tools_fe.h, common_tools_be.h, and the tests in the 'tests'
directory.

Installation instructions:
--------------------------

   Installation instructions for x86_64:
   =============================================
      rpm -ivh cray-cti-2.15.4-4.sles15sp2.x86_64.rpm

      To make cti 2.15.4 the default version of cray-cti, execute:
      /opt/cray/admin-pe/set_default_files/set_default_cray-cti-2.15.4


 Certain components, files or programs contained within this package or
 product are Copyright 2010-2021 Hewlett Packard Enterprise Development LP

Cray DSMML 0.2.0:
==========================

Release Date:
-------------
  August, 2021

Product Information:
--------------------
DSMML is a stand-alone memory management library for maintaining distributed
shared symmetric memory heaps for top level PGAS languages and libraries like
Coarray Fortran, UPC, and OpenSHMEM. DSMML allows user libraries to create
multiple symmetric heaps and share information with other libraries. Through
DSMML, we could extract interoperability between PGAS programming models.

Announcements, release informations, supported environments, and backward
compatibility informations about this product can be viewed in the following
location: https://pe-cray.github.io/cray-dsmml/

Purpose:
--------
    Cray DSMML 0.2.0 supports the following features:

    - Create symmetric heap segments for being used by PGAS languages and
      libraries

    - Allows options to allocate, deallocate memory buffers from previously
      created symmetric heap segments

    - Enables sharing information about the symmetric heap segments between
      different programming models

    - Added support for shared symmetric heap (SSHEAP) that can be used to
    provide enhanced SMP data transport in user-libraries like SHMEM, CAF, UPC

    The following features are fixed in Cray DSMML 0.2.0 when compared
    to Cray DSMML 0.1.5:

    - Added support for enabling multiple SMP (shared memory) domains as smp_sets

    Refer intro_dsmml(3) manpage for more information on the supported features
    and syntax for different routines


Product and OS Dependencies:
----------------------------
  The Cray DSMML 0.2.0 release is supported on the following
  Cray systems:
  * HPE Cray EX systems with CLE

  Product and OS Dependencies by network type:
  --------------------------------------------------+
                              |       Shasta        |
  ----------------------------+---------------------+
        craype                | >= 2.7.3            |
  ----------------------------+---------------------+

  One or more compilers:
  * AOCC 2.2 or later
  * CCE 9.1 or later
  * GNU 9.1 or later
  * Intel 19.0 or later
  * Nvidia 20.7 or later

Documentation:
--------------
  Use the Cray DSMML man pages for more information on the library
  functions and use intro_dsmml(3) man page for general information.

  Use https://pe-cray.github.io/whitepapers/ for access to different
  Cray DSMML specific whitepapers

  Announcements, release informations, supported environments, and backward
  compatibility informations about this product can be viewed in the following
  location: https://pe-cray.github.io/cray-dsmml/

Modulefile:
-----------
  module load cray-dsmml/0.2.0

Certain components, files or programs contained within this package or
product have the following Copyright:
Copyright 2018-2021 Hewlett Packard Enterprise Development LP.


FFTW 3.3.8.11
============
  Release Date:
  -------------
    August 2021


  Purpose:
  --------
    This Cray FFTW 3.3.8.11 release is supported on Cray EX (formerly
    Shasta) systems. FFTW is supported on the host CPU but not on the
    accelerator of Cray systems.

    The Cray FFTW 3.3.8.11 release provides the following:
      - Initial support for Intel Icelake CPUs
      - Optimizations for AMD Milan CPUs
    See the Product and OS Dependencies section for details.


  Product and OS Dependencies:
  ----------------------------
    The Cray FFTW 3.3.8.11 release is supported on the following Cray systems:
      Cray Shasta Systems with CLE 7.0

    The FFTW 3.3.8.11 release requires the following software products:
      craype 2.7.5 or later
      MPT 8.0 or later

      One or more of the following major compiler versions:
        CCE 11, 12
        GCC 9, 10
        AOCC 3
        Intel 2021


  Notes and Limitations:
  ----------------------
    Starting with cray-fftw/3.3.6.1 the fftw module has been renamed from fftw
    to cray-fftw.


  Documentation:
  --------------
    http://www.fftw.org/index.html#documentation

    See the intro_fftw3 manual page for additional information.


  Modulefile:
  -----------
    module load cray-fftw


  Installation
  ------------
    On CLE 7.0:
      rpm -ivh cray-fftw-3.3.8.11-202107072137.1b2ee7882c7c0-1.shasta.sles15.x86_64.rpm

    To make this the default version,

      On CLE 7.0 execute
        /opt/cray/pe/admin-pe/set_default_files/set_default_fftw_3.3.8.11


  Certain components, files or programs contained within this package or
  product are Copyright 2011-2021 Hewlett Packard Enterprise Development LP

gdb4hpc 4.13.4:
======================================

Release Date:
--------------
  July 2021


Product Description:
--------------------
  gdb4hpc is a GDB-based parallel debugger used to debug applications compiled with
  CCE, AOCC, GNU, and Intel Fortran, C and C++ compilers. It allows programmers to
  either launch an application or attach to an already running application that
  was launched on the system. Additionally, it provides comparative debugging
  technology that enables programmers to compare data structures between two
  executing applications. Comparative debugging should be used in conjunction
  with the CCDB GUI tool accessed by loading the cray-ccdb module.

  Some features of gdb include:

  * Command line parallel debugger allows for launching/attaching applications.

  * Utilizes process sets to operate on a subset of application ranks.

  * GDB-like feel, also implements a gdbmode to enable a true parallel gdb.

  * GPU debugging is supported for OpenMP 4.0+ GPU directives; OpenMP 5.0 on AMD GPU's.

  * Workload manager support via Common Tools Interface (cray-cti).

Purpose:
---------
  This is bug fix and performance release

  - Fixed the version displayed in the startup banner and show version.
  - Improve performance by reducing binaries by 100 megabytes,
        200 megabytes when --gpu is specified.
  - Update cuda-gdb for nvidia gpus to ddt_cuda-gdb 11.0.
  - Add support for Red Hat 8.3 packages.

Product and OS Dependencies:
-----------------------------
  The gdb4hpc 4.13.4 is supported on the following Cray systems:
    - HPE/Cray XC systems with CLE 7.0 or later
    - HPE/Cray CS systems with CentOS/RH 8.0 or later
    - HPE/Cray Shasta systems with SLES 15 service pack 1 or later
    - HPE Apollo systems with Slurm and RH 8.0 or later
    - Baymax systems with RH 8.0 or later

  Product Dependencies:
    - Cray cray-cti rpm installed
    - Cray cray-cdst-support rpm installed

Documentation:
---------------
Type `man gdb4hpc` with the gdb4hpc module loaded to read the gdb4hpc(1) man page.

Simple usage examples are provided at the end.

Also, type `help` at the gdb4hpc command line for more information on commands.

Installation instructions:
--------------------------

   Installation instructions for x86_64:
   =============================================
      rpm -ivh gdb4hpc-4.13.4-20210729175256_eb8f1207-3.sles15sp2.x86_64.rpm

      To make gdb4hpc 4.13.4 the default version of gdb4hpc, execute:
      /opt/cray/pe/admin-pe/set_default_files/set_default_gdb4hpc_4.13.4


Certain components, files or programs contained within this package or product are
Copyright 2007-2021 Hewlett Packard Enterprise Development LP.

HDF5 1.12.0.6
=========

Release Date:
-------------
August 2021

Purpose:
--------
  This HDF5 release contains the following:
  * Support for the AOCC 3.0 compiler

Product and OS Dependencies:
----------------------------
  The HDF5 release is supported on the following systems:
    * Cray XC systems with CLE 7.0 UP02 and later.
    * Cray EX systems with CLE 7.0 and later
    * Cray Apollo systems with RHEL/CentOS 8
    * Cray ARM 64-bit systems with A64FX CPUs

  The HDF5 1.12.0.6 release requires the following software products:
 
    CrayPE 2.1.2 or later
    Cray MPT 8.0 or later, or cray-mvapich 2.3.2 or later for A64FX-based systems

    One or more compilers:
        CCE 10.0 or later
        GCC 9.0 or later
        Intel 19.0 or later
        Nvidia 20.7.0 or later
        Allinea 20.0.0 or later
        AOCC 3.0 or later
        ROCm 4.0 or later

Notes and Limitations:
----------------------
  Users are encouraged to use the Cray compiler scripts (cc, ftn, CC)
  to include the HDF5 header files and link in the HDF5 libraries,
  rather than the HDF5 compiler scripts (h5cc, h5fc, h5c++) included
  in the release.

Documentation:
--------------
    http://www.hdfgroup.org/HDF5/doc/index.html

Modulefile:
-----------
    module load cray-hdf5
    OR
    module load cray-hdf5-parallel

Product description:
--------------------
  HDF5 is a data model, library, and file format for storing and managing data.
  It supports an unlimited variety of datatypes, and is designed for flexible
  and efficient I/O and for high volume and complex data. HDF5 is portable and
  is extensible, allowing applications to evolve in their use of HDF5. The HDF5
  Technology suite includes tools and applications for managing, manipulating,
  viewing, and analyzing data in the HDF5 format.

Installation:
-------------
 Installation instructions for CLE 7.0 and later:
 ================================================
  rpm -ivh cray-hdf5-1.12.0.6-*202107192047.70fe9babd7888-2.sle15.x86_64.rpm
    The "*" in the install command represents compiler version combinations.

  To make this the default version, execute:
    /opt/cray/pe/admin-pe/set_default_files/set_default_hdf5_1.12.0.6


Certain components, files or programs contained within this package or product
are Copyright 2019-2021 Hewlett Packard Enterprise Development LP.


Cray LibSci 21.08.1.x
=====================

  Release Date:
  -------------
    August 2021


  Purpose:
  --------
    Cray LibSci 21.08.1.x provides scientific libraries for Cray
    HPC systems. Cray LibSci is supported on the host CPU but
    not on the accelerator of these systems.

    The Cray LibSci 21.08.1.x release provides the following:
    * Updated multi-threaded OpenMP DGEMM kernels for multiple targets

    Cray LibSci 21.08.1.x includes the following versions of publicly
    available libraries:
      * LAPACK 3.6.1 - For further information, see
          http://www.netlib.org/lapack
      * ScaLAPACK 2.0.2 - (Scalable LAPACK) For further information, see
          http://www.netlib.org/scalapack.
      * QDWH 2.0.0 KSVD 1.0.0 - Polar decomposition and SVD packages, see
          https://github.com/ecrc/qdwh
          https://github.com/ecrc/ksvd
     

  Product and OS Dependencies:
  ----------------------------

    The Cray LibSci 21.08.1.x release requires the following:
        SLE 15 or RHEL 8   
        craype/2.7.3
        cray-mpich/8.1.0

      One or more of the following compiler major versions:
        CCE 12.x
        GCC 9.x
        AOCC 2.x
        Intel 19.x
        Nvidia 20.x

  Notes and Limitations:
  ----------------------
    OMP threaded versions:
    The CrayPE 2.1.2 and later releases add support for link line generation
    for the multi-threaded versions of the libsci library based on the OpenMP
    flags the user specifies for each compiler:
    * CCE by default links to the OpenMP LibSci library. CrayPE will link in
      the serial version of LibSci when the CCE flag -hnoomp is used.
    * GNU by default links serial LibSci library. CrayPE will link in the
      OpenMP version of LibSci when the GNU flag -fopenmp is used.
    * INTEL by default links serial LibSci library. CrayPE will link in the
      OpenMP version of LibSci when the INTEL flag -qopenmp is used.

    Stack size limit:
    The 'ulimit -s unlimited' system stack size setting is required for
    cray-libsci on all supported Cray platforms. This is typically set as a
    system default by admin but may otherwise need to be set at runtime.

    QDWH and KSVD:
    These packages are currently included for CCE, GNU, and Intel compilers.

    Non-default dynamic linking:
    When using a non-default version of cray-libsci with dynamic linking
    users should set at runtime and at linktime after loading the desired
    cray-libsci module--or set the equivalent for their linux shell:

    export LD_LIBRARY_PATH=$CRAY_LD_LIBRARY_PATH:$LD_LIBRARY_PATH


  Documentation:
  --------------
    See the intro_libsci man page for additional information.

    See the csmlversion man page for information to display version information
    on the currently loaded scientific libraries.


  Modulefile:
  -----------
    module load cray-libsci


  Installation instructions:
  --------------------------
    LibSci is now packaged into separate compiler specific RPMs to allow
    rpmbuild to correctly include compiler dependencies.


  License:
  --------
    Except for the third party components and software licensed by HPE
    through proprietary agreements, components, files or programs
    contained within this package or product are Copyright 2001-2021
    Hewlett Packard Enterprise Development LP.

    Attribution notices for open source licensed software contained in this
    package are detailed in the file:
    /opt/cray/libsci/21.08.1.2/ATTRIBUTIONS_libsci21.08.1.2.txt

modules 3.2.11.5 
==================

Release Date:
-------------
May, 2021


Purpose:
--------
   - Add support for 'is-used' and 'is-avail' module commands.

Documentation:
---------------
  See man-pages for module and modulefile.



Cray MPICH 8.1.8:
=======================================

Release Date:
-------------
  July 21, 2021


Purpose:
--------
  Cray MPICH 8.1.8 is based upon ANL MPICH 3.4a2 with support for libfabric
  and is optimized for the Cray Programming Environment.
    
  Major Differences Cray MPICH 8.1.8 from the XC Cray MPICH include:

      - Uses the new ANL MPICH CH4 code path and libfabric for network
        support.

      - Does not support -default64 mode for Fortran

      - Does not support C++ language bindings

  New Cray MPICH features for HPE Cray EX and Apollo systems:

      - Cray MPICH uses the libfabric "verbs;ofi_rxm" provider by default.
        This is the supported and optimized OFI libfabric provider for
        Slingshot-10 and Apollo systems.

      - Cray MPICH offers support for multiple NICs per node. Starting with
        version 8.0.8, by default Cray MPICH will use all available NICs on
        a node. Several rank-to-NIC assignment policies are supported. For
        details on choosing a policy for assigning ranks to NICS, or for
        selecting a subset of available NICs, please see the following
        environment variables documented in the mpi man page.

        MPICH_OFI_NIC_VERBOSE
        MPICH_OFI_NIC_POLICY
        MPICH_OFI_NIC_MAPPING
        MPICH_OFI_NUM_NICS

      - Enhancements to the MPICH_OFI_NIC_POLICY NUMA mode have been added.
        Starting with version 8.0.14, if the user selects the NUMA policy,
        the NIC closest to the rank is selected. A NIC no longer needs to
        reside in the same numa node as the rank. If multiple NICs are
        assigned to the same numa node, the local ranks will round-robin
        between them. Numa distances are analyzed to select the closest NIC.

      - Cray MPICH supports creating a full connection grid during MPI_Init.
        By default, OFI connections between ranks are set up on demand. This
        allows for optimal performance while minimizing memory requirements.
        However, for jobs requiring an all-to-all communication pattern, it
        may be beneficial to create all OFI connections in a coordinated
        manner at startup. See the MPICH_OFI_STARTUP_CONNECT description in
        the mpi man page.

      - Cray MPICH supports runtime switching to the UCX netmod starting
        with version 8.0.14. To do this load the craype-network-ucx module
        and module swap between Cray-MPICH and Cray-MPICH-UCX modules.  For
        more information including relevant environment variables reference
        the intro_mpi man page with the Cray-MPICH-UCX module loaded.

      - Lmod support for HPE Cray EX starting with Cray MPICH 8.0.16.


Key Changes and Bugs Closed:
----------------------------
  Changes in Cray MPICH 8.1.8

      - CAST-25816 - Expand set default template to include more modules
      - PE-36385 - Sync compiler string for PrgEnv-AMD with the rocm-compiler lmod module
      - PE-36394 - Speed up inter-node transfers using dynamic window creation
      - PE-36492 - Improve GPU performance with GDRcopy
      - PE-36772 - Remove PATH entry to Cray-MPICH lmod module


Product and OS Dependencies:
----------------------------
  The Cray MPICH 8.1.8 release is supported on the following HPE systems:
  * HPE Cray EX systems with CLE
  * HPE Apollo systems as part of the Cray Programming Environment

  Product and OS Dependencies by network type:
  --------------------------------------------------+
                              |       Shasta        |
  ----------------------------+---------------------+
        craype                | >= 2.7.6            |
  ----------------------------+---------------------+
        cray-pals             | >= 1.0.6            |
  ----------------------------+---------------------+
        cray-pmi              | >= 6.0.1            |
  ----------------------------+---------------------+
        libfabric             | >= 1.9.0            |
  ----------------------------+---------------------+

  One or more compilers:
  * AMD ROCM 4.0 or later
  * AOCC 3.0 or later
  * CCE 10.0 or later
  * GNU 9.1 or later
  * Intel 19.0 or later
  * Nvidia 20.7 or later


Notes and Limitations:
----------------------
  Limitations in Cray MPICH 8.1.8:

      - Cray MPICH 8.1.8 can support only ~2040 simultaneous MPI
        communicators.  This limit is less the XC Cray MPICH limit of
        ~4090 simultaneous communicators.  Cray intends to raise the
        limit in a future release of Cray MPICH for Shasta to at least
        the XC limit.


Documentation:
--------------
  For more information see the intro_mpi man page.


Modulefile:
-----------
  module load cray-mpich/8.1.8


License:
--------
  Except for the third party components and software licensed by HPE
  through proprietary agreements, components, files or programs contained
  within this package or product are Copyright -2021 Hewlett Packard
  Enterprise Development LP.

  Attribution notices for open source licensed software for this 
  package are detailed in the file:
  /opt/cray/pe/mpich/8.1.8/ATTRIBUTIONS
=======
Copyright -2021 Hewlett Packard Enterprise Development LP

NetCDF 4.7.4.6
===========

Release Date:
-------------
  August 2021

Purpose:
--------
  This NetCDF release contains the following:
  * Support for the AOCC 3.0 compiler

Product and OS Dependencies:
----------------------------
  The NetCDF release is supported on the following systems:
    * Cray XC systems with CLE 7.0 UP02 or later
    * Cray EX systems with CLE 7.0 or later
    * HPE Apollo systems as part of the Cray Programming Environment

  The NetCDF 4.7.4.6 release requires the following software products:

    Cray HDF5 1.12.0.*
    CrayPE 2.1.2 or later
    Cray MPT 8.0 or later, or cray-mvapich 2.3.2 or later on A64FX-based systems

    One or more compilers:
        CCE 10.0 or later
        GCC 9.0 or later
        Intel 19.0 or later
        Nvidia 20.7 or later
        Allinea 20.0 or later
        AOCC 3.0 or later
        ROCm 4.0 or later

Notes and Limitations:
---------------------
    
    For certain F77 source files, when compiling with gcc/10, it may be necessary
    to configure/compile with:
        export FCFLAGS="-w -fallow-argument-mismatch -O2"
        export FFLAGS="-w -fallow-argument-mismatch -O2" 

    This will turn mismatch errors between actual and dummy argument lists to warnings.
    See: 
       https://github.com/Unidata/netcdf-fortran/issues/212  
       https://gcc.gnu.org/gcc-10/changes.html   
    
    Unidata now packages Netcdf-4 and legacy Netcdf-3 separately. Cray has
    decided not to continue supplying the legacy Netcdf-3 package. Due to CCE
    changes a version of netcdf built with "-sreal64" is neither needed nor
    provided.

    NetCDF is supported on the host CPU but not on the accelerator.

Documentation:
--------------
    http://www.unidata.ucar.edu/software/netcdf/docs

Modulefile:
-----------
    module load cray-netcdf
    OR
    module load cray-netcdf-hdf5parallel

Product description:
--------------------
  NetCDF (network Common Data Form) is a set of interfaces for array-oriented
  data access and a freely-distributed collection of data access libraries for
  C, Fortran, C++, Java, and other languages. The netCDF libraries support a
  machine-independent format for representing scientific data. Together, the
  interfaces, libraries, and format support the creation, access, and sharing
  of scientific data.

Installation:
-------------
 Installation instructions for CLE 7.0 and later:
 ================================================
  rpm -ivh cray-netcdf-4.7.4.6-*202107192110.094d088186748-1.sle15.x86_64.rpm
    The "*" in the install command represents compiler version combinations.

  To make this the default version, execute:
    /opt/cray/pe/admin-pe/set_default_files/set_default_netcdf_4.7.4.6


Certain components, files or programs contained within this package or product
are Copyright 2019-2021 Hewlett Packard Enterprise Development LP.



Cray PALS 1.0.14 for PE 21.08:
=======================================

Release Date:
-------------
    Aug 2021

Purpose:
--------

    Cray Parallel Application Launch Service (PALS) is an application launcher for
    Cray PE applications.

Key Changes:
------------

    Added the pmix_demo app to show advanced PMIx functionality
    Added RHEL8.3 build
    Added SLES15sp3 build
    Fixed freeing PMI ports when a Launch times out

Documentation:
--------------
    For more information see aprun, mpiexec, palscmd, palsctrl, palsig, and palstat man page.

Modulefile:
-----------
    module load cray-pals

Installation instructions:
--------------------------
    rpm -ihv cray-pals-<version>-<date>.el8.x86_64.rpm
    rpm -ihv cray-palsd-<version>-<date>.el8.x86_64.rpm

Copyright 2021 Hewlett Packard Enterprise Development LP

Parallel NetCDF 1.12.1.6
========================

Release Date:
-------------
  August 2021

Purpose:
--------
  This Parallel NetCDF release contains the following:
  * Support for the AOCC 3.0 compiler

  See the Parallel NetCDF documentation for details and usage information.

Product and OS Dependencies:
----------------------------
  This Parallel NetCDF release is supported on on the following systems:
  * Cray XC systems with CLE 7.0 UP02 and later.
  * Cray EX systems with CLE 7.0 and later
  * HPE Apollo systems as part of the Cray Programming Environment
  * Cray ARM 64-bit systems with A64FX CPUs

  The Parallel NetCDF 1.12.1.6 release requires the following software
  products:

      One or more compilers:
          CCE 10.0 or later
          GCC 9.0 or later
          Intel 19.0 or later
          Nvidia 20.7 or later
          Allinea 20.0 or later
          AOCC 3.0 or later
          ROCm 4.0 or later

      CrayPE 2.1.2 or later

Notes and Limitations:
---------------------
    
    For certain F77 source files, when compiling with gcc/10, it may be necessary
    to configure/compile with:
        export FCFLAGS="-w -fallow-argument-mismatch -O2"
        export FFLAGS="-w -fallow-argument-mismatch -O2" 

    This will turn mismatch errors between actual and dummy argument lists to warnings.
    See: 
       https://github.com/Unidata/netcdf-fortran/issues/212  
       https://gcc.gnu.org/gcc-10/changes.html   

       
Documentation:
--------------
   https://parallel-netcdf.github.io/wiki/Documentation.html

Modulefile:
-----------
    module load cray-parallel-netcdf

Product Description:
--------------------
  Parallel NetCDF is a library providing high-performance I/O while
  maintaining file-format compatibility with Unidata's NetCDF.

Installation:
-------------
 Installation instructions for CLE 7.0 or later:
 ===============================================
  rpm -ivh cray-parallel-netcdf-1.12.1.6-*202107192054.f994506670d1a-2.sle15.x86_64.rpm
    The "*" in the install command represents compiler version combinations.

  To make this the default version, execute:
    /opt/cray/pe/admin-pe/set_default_files/set_default_parallel-netcdf_1.12.1.6

Certain components, files or programs contained within this package or product
are Copyright 2021 Hewlett Packard Enterprise Development LP.

Cray PMI 6.0.13
==============================================================================

Release Date:
--------------
  July 21, 2021


Purpose:
--------
  The Cray Process Manager Interface Library provides the interface between the
  application launcher and other communication libraries such as MPICH and SHMEM.

  Cray PMI 6.0.13 is optimized for the Cray Programming Environment.

  New Cray PMI features for HPE Cray EX and Apollo systems:


Key Changes and Bugs Closed:
----------------------------
  Bug fixes new to Cray PMI 6.0.13 include:

      - PE-35831 - Node bounce resiliency for PE ML/DL plugin


Product and OS Dependencies:
----------------------------
  The Cray PMI 6.0.13 release is supported on the following systems:
  * HPE Cray EX systems with CLE
  * HPE Apollo systems as part of the Cray Programming Environment

  Product Dependencies:
  ----------------------------------------+
        cray-pals        | >= 1.0.6       |
  -----------------------+----------------+
        slurm            | >= 20.02       |
  -----------------------+----------------+


Notes and Limitations:
----------------------


Documentation:
--------------
  For more information see the intro_pmi man page.


Modulefile:
-----------
  module load cray-pmi/6.0.13


License:
--------
  Except for the third party components and software licensed by HPE
  through proprietary agreements, components, files or programs contained
  within this package or product are Copyright 2020-2021 Hewlett Packard
  Enterprise Development LP.

  Attribution notices for open source licensed software for this 
  package are detailed in the file:
  /opt/cray/pe/pmi/6.0.13/ATTRIBUTIONS

Cray OpenSHMEMX 11.3.2:
===============================

Release Date:
-------------
  August, 2021

Purpose:
--------
  OpenSHMEM is a Partitioned Global Address Space (PGAS) library interface
  specification, which is the culmination of a standardization effort among
  many implementers and users of SHMEM programming model. SHMEM has a long
  history as a parallel programming model on HPE Cray supercomputer systems.
  For the past two decades SHMEM library implementation in HPE Cray systems
  evolved through different generations. Cray OpenSHMEMX is a proprietary,
  OpenSHMEM specification compliant SHMEM implementation for HPE Cray
  product line.

Key Changes:
------------
  Major differences in Cray OpenSHMEMX 11.3.2 from Cray OpenSHMEMX
  version 11.3.1 includes the following:

    - No new features were added, mostly internal bug fix release

Bugs Closed:
------------
  The following bugs are fixed as part of the Cray OpenSHMEMX 11.3.2
  release:

    - Multiple internal bugs were fixed
    - Fixed SSHEAP usage for multiple SMP domain per node


Product and OS Dependencies:
----------------------------
  The Cray OpenSHMEMX 11.3.2 release is supported on the following
  Cray systems:
  * HPE Cray EX systems with CLE

  Product and OS Dependencies by network type:
  --------------------------------------------------+
                              |       Shasta        |
  ----------------------------+---------------------+
        craype                | >= 2.7.3            |
  ----------------------------+---------------------+
        cray-pals             | >= 0.3.5            |
  ----------------------------+---------------------+
        cray-pmi              | >= 6.0.1            |
  ----------------------------+---------------------+
        libfabric             | >= 1.9.0            |
  ----------------------------+---------------------+

  One or more compilers:
  * AOCC 2.2 or later
  * CCE 9.1 or later
  * GNU 9.1 or later
  * Intel 19.0 or later
  * Nvidia 20.7 or later

Notes and Limitations:
----------------------
  Announcements, release information, supported environments, limitations,
  usage models, and backward compatibility informations about this product
  can be viewed in the following location:
  https://pe-cray.github.io/cray-openshmemx/

Documentation:
--------------
  Use the Cray OpenSHMEMX man pages for more information on the library
  functions and use intro_shmem(3) man page for general information.

  Initial support for Cray OpenSHMEMX man pages are derived from OpenSHMEM
  standards specification document

  Use https://pe-cray.github.io/whitepapers/ for access to different
  Cray OpenSHMEMX specific whitepapers

Modulefile:
-----------
  module load cray-openshmemx/11.3.2

License:
--------
  Components, files, and programs contained within this package or
  product are Copyright Hewlett Packard Enterprise Development LP

